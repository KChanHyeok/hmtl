<script>
    // const middleware = ({ dispatch, getState }) => next => action => {
    //     if (typeof action === 'function') {
    //         // Inject the store's `dispatch` and `getState` methods, as well as any "extra arg"
    //         return action(dispatch, getState)
    //     }

    //     // Otherwise, pass the action down the middleware chain as usual
    //     return next(action)
    // }


    
    function middleware({dispatch, getState}) {
        return function(next) {
            return function(action) {
                if (typeof action === 'function') {
                    // Inject the store's `dispatch` and `getState` methods, as well as any "extra arg"
                    return action(dispatch, getState)
                }
                // Otherwise, pass the action down the middleware chain as usual
                return next(action)
            }
        }
    }

    const result1 = middleware({dispatch: 1, getState: 1})
    const result2 = result1(function(action) {return action})
    const result3 = result2({a: 1})
    console.log(result1)
    console.log(result2)
    console.log(result3)
   
    console.log(middleware({dispatch: 1, getState: 1})(function(action) {return action})({a: 1}))

    // 1 : middleware({})(function() {})(function(){})
    // 2 : middleware({})(function() {})({a: 1})

    // const funcA = (value) => {
    //     return value
    // }

    // function A(value) {
    //     return function(func) {
    //         return function(c) {
    //             return func(value) + c
    //         }
    //     }
    // }

    // const funcB = (value) => {
    //     return function (func) {
    //         return func(value)
    //     }
    // }

    // const result = funcB(1)(funcA)

    // console.log(result)

    

    // const a = (v) => {
    //     return {
    //         bb: function () {
    //             return v + 1
    //         },
    //         cc: function (cc_v) {
    //             return v + cc_v
    //         },
    //         dd: {
    //             dd1: function () {

    //             },
    //             dd2: function () {
                    
    //             }
    //         }
    //     }
    // }

    // a(1).bb()
    // a(1).cc(33)
    // a(1).dd.dd1()


</script>